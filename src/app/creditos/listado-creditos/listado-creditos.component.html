<br>
<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <div class="row">
        <div class="col-sm-10">
          <h4>Creditos</h4>
        </div>

        <div class="col-sm-2">
          <button type="button" class="btn btn-success">
            Añadir Credito
          </button>
        </div>
      </div>
    </div>
    <div class="card-body">
      <form>
        <div class="row">

          <div class="col-sm-10 form-group form-inline">
            Buscar: <input class="form-control ml-2" type="text" name="searchTerm"
              [(ngModel)]="creditoService.searchTerm" />
            <span class="ml-3" *ngIf="creditoService.loading$ | async"> Cargando...</span>

          </div>
          <div class="col-sm-2 col-lg-2">
            <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="creditoService.pageSize">
              <option [ngValue]="2">2 items per page</option>
              <option [ngValue]="4">4 items per page</option>
              <option [ngValue]="6">6 items per page</option>
            </select>
          </div>
        </div>

        <table class="table table-striped" style="text-align: center;" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th>#</th>
              <th scope="col" sortable="id" (sort)="onSort($event)">id <img width="20px" src="/assets/img/arrow.png">
              </th>
              <th scope="col" sortable="cliente" (sort)="onSort($event)">Cliente <img width="20px"
                  src="/assets/img/arrow.png"> </th>
              <th scope="col" sortable="valorCredito" (sort)="onSort($event)">Valor <br> Crédito<img width="20px"
                  src="/assets/img/arrow.png"> </th>
              <th scope="col" sortable="valorCuota" (sort)="onSort($event)">Valor <br> Cuota<img width="20px"
                  src="/assets/img/arrow.png"> </th>
              <th scope="col" sortable="fechaAprovacion" (sort)="onSort($event)">Fecha de <br> Aprovacion<img
                  width="20px" src="/assets/img/arrow.png"> </th>
              <th scope="col" sortable="codigoOTP" (sort)="onSort($event)">Código OTP<img width="20px"
                  src="/assets/img/arrow.png"> </th>
              <th scope="col" sortable="estado" (sort)="onSort($event)">Estado<img width="20px"
                  src="/assets/img/arrow.png"> </th>

            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let credito of creditos$ | async; index as i">
              <th scope="row">{{ i + 1 }}</th>
              <th>
                <ngb-highlight [result]="credito.id" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>
              <th>
                <ngb-highlight [result]="credito.cliente" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>
              <th>
                <ngb-highlight [result]="credito.valorCredito" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>
              <th>
                <ngb-highlight [result]="credito.valorCuota" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>
              <th>
                <a [routerLink]='["/credito",credito.id]'>
                  <ngb-highlight [result]="credito.fechaAprovacion" [term]="creditoService.searchTerm"></ngb-highlight>
                </a>
              </th>
              <th>
                <ngb-highlight [result]="credito.codigoOTP" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>
              <th>
                <ngb-highlight [result]="credito.estado" [term]="creditoService.searchTerm"></ngb-highlight>
              </th>

            </tr>

          </tbody>
        </table>
        <div class="d-flex justify-content-between p-2">
          <ngb-pagination [collectionSize]="total$ | async" [(page)]="creditoService.page"
            [pageSize]="creditoService.pageSize">
          </ngb-pagination>

        </div>
      </form>
    </div>

  </div>

</div>
